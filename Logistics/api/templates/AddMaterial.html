{% extends 'Base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/AddMaterials.css' %}">
{% endblock %}

{% block content %}

<!-- Add Material Form -->
<section id="add-material-form" class="form-container container mt-5">
    <h2 class="text-center">ADD MATERIAL</h2>

    {% if messages %}
    <div class="messages">
        {% for message in messages %}
        <div{% if message.tags %} class="alert alert-{{ message.tags }}"{% endif %}>{{ message }}</div>
        {% endfor %}
    </div>
    {% endif %}

    <form method="POST" action="{% url 'AddMaterial' %}" class="row g-3">
        {% csrf_token %}
        <!-- Item Name -->
        <div class="col-md-6">
            <label for="item-name" class="form-label">Item Name:</label>
            <input type="text" id="item-name" name="item-name" class="form-control" required>
        </div>

        <!-- Item Description -->
        <div class="col-md-6">
            <label for="item-description" class="form-label">Item Description:</label>
            <textarea id="item-description" name="item-description" rows="2" class="form-control"></textarea>
        </div>

        <!-- Item Category -->
        <div class="col-md-6">
            <label for="item-category" class="form-label">Item Category:</label>
            <select id="item-category" name="item-category" class="form-select" required>
                <option value="agahan">Agahan</option>
                <option value="noodles">Noodles</option>
                <option value="rice">Rice</option>
                <option value="sabaw">Sabaw</option>
                <option value="gulay">Gulay</option>
                <option value="sizzling">Sizzling</option>
                <option value="inihaw">Inihaw</option>
                <option value="pinirito">Pinirito</option>
                <option value="lutong-kakaiba">Lutong Kakaiba</option>
                <option value="steak">Steak</option>
                <option value="pampagana">Pampagana</option>
                <option value="pansit">Pansit</option>
            </select>
        </div>

        <!-- Unit of Measure -->
        <div class="col-md-6">
            <label for="unit-of-measure" class="form-label">Unit of Measure:</label>
            <select id="unit-of-measure" name="unit-of-measure" class="form-select" required>
                <option value="kg">Kilogram (kg)</option>
                <option value="g">Gram (g)</option>
                <option value="l">Liter (l)</option>
                <option value="ml">Milliliter (ml)</option>
                <option value="m">Meter (m)</option>
                <option value="cm">Centimeter (cm)</option>
                <option value="pcs">Pieces (pcs)</option>
                <option value="box">Box (box)</option>
            </select>
        </div>

        <!-- Purchase Price -->
        <div class="col-md-6">
            <label for="purchase-price" class="form-label">Purchase Price:</label>
            <input type="number" id="purchase-price" name="purchase-price" step="0.01" class="form-control" required>
        </div>

        <!-- Reorder Level -->
        <div class="col-md-6">
            <label for="reorder-level" class="form-label">Reorder Level:</label>
            <input type="number" id="reorder-level" name="reorder-level" class="form-control" required>
        </div>

        <!-- Perishable Option -->
        <div class="col-md-6">
            <label class="form-label">Type:</label>
            <div>
                <input type="radio" id="perishable" name="perishable" value="true" onclick="toggleDaysInput()" required>
                <label for="perishable">Perishable</label>
                <input type="radio" id="non-perishable" name="perishable" value="false" onclick="toggleDaysInput()" required>
                <label for="non-perishable">Non-Perishable</label>
            </div>
        </div>

        <!-- Days Before Expiry -->
        <div class="col-md-6" id="days-before-expiry-container" style="display: none;">
            <label for="days-before-expiry" class="form-label">Days Before Expiry:</label>
            <input type="number" id="days-before-expiry" name="days-before-expiry" class="form-control" min="0">
        </div>

        <!-- Submit Button -->
        <div class="col-12">
            <button type="submit" class="btn btn-primary w-100">Add Material</button>
        </div>
    </form>
</section>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/AddMaterial.js' %}"></script>
<script>
    function toggleDaysInput() {
        const perishable = document.getElementById('perishable').checked;
        const daysContainer = document.getElementById('days-before-expiry-container');
        daysContainer.style.display = perishable ? 'block' : 'none';
    }
</script>
{% endblock %}