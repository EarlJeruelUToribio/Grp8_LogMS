{% extends 'Base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/Managematerials.css' %}">
{% endblock %}

{% block content %}

<!-- Material Table -->
<section id="material-table" class="container table-container mt-5">
    <!-- Add Material Button and Title -->
    <h2 class="text-center w-100">MATERIAL INVENTORY</h2>
    <div class="d-flex align-items-center justify-content-between mb-3">
        <!-- Link to another HTML file -->
        <a href="{% url 'AddMaterial' %}" id="add-material-button" class="btn btn-primary">
            Add Material
        </a>
    </div>

        <table class="table table-striped product-table">
            <thead>
                <tr>
                    <th>Item Name</th>
                    <th>Description</th>
                    <th>Category</th>
                    <th>Unit of Measure</th> 
                    <th>Purchase Price</th>
                    <th>Current Stock</th>
                    <th>Reorder Level</th>
                    <th>Expiration Date</th> <!-- New column for Expiration Date -->
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for material in materials %}
                <tr>
                    <td>{{ material.ItemName }}</td>
                    <td>{{ material.ItemDescription }}</td>
                    <td>{{ material.ItemCategory }}</td>
                    <td>{{ material.UnitOfMeasure }}</td>
                    <td>{{ material.PurchasePrice }}</td>
                    <td>{{ material.Current_Stock }}</td>
                    <td>{{ material.ReorderLevel }}</td>
                    <td>
                        {% if material.expiration_date %}
                            {{ material.expiration_date|date:"Y-m-d" }}
                        {% else %}
                            N/A
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'edit_material' material.Inventory_ID %}" class="btn btn-primary">Edit</a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </section>
    
{% endblock %}
    
{% block extra_js %}
<script src="{% static 'js/ManageMaterials.js' %}"></script>
{% endblock %}