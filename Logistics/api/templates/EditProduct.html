{% extends 'Base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/AddProducts.css' %}">
{% endblock %}

{% block content %}
<section id="add-product-form" class="form-container container mt-5">
    <h2 class="text-center">ADD PRODUCT</h2>

    <form method="POST" class="row g-3" enctype="multipart/form-data"> <!-- Added enctype for file uploads -->
        {% csrf_token %}
        
        <!-- Product Name -->
        <div class="col-md-6">
            <label for="product-name" class="form-label">Product Name:</label>
            <input type="text" id="product-name" name="product-name" class="form-control" required>
        </div>

        <!-- Product Description -->
        <div class="col-md-6">
            <label for="product-description" class="form-label">Product Description:</label>
            <input type="text" id="product-description" name="product-description" class="form-control" required>
        </div>

        <!-- Product Category -->
        <div class="col-md-6">
            <label for="product-category" class="form-label">Product Category:</label>
            <input type="text" id="product-category" name="product-category" class="form-control" required>
        </div>

        <!-- Product Image -->
        <div class="col-md-6">
            <label for="product-image" class="form-label">Product Image:</label>
            <input type="file" id="product-image" name="product-image" class="form-control" accept="image/*" required>
        </div>

        <!-- Product Price -->
        <div class="col-md-6">
            <label for="product-price" class="form-label">Product Price:</label>
            <input type="number" id="product-price" name="product-price" class="form-control" required step="0.01">
        </div>

        <!-- Add Material Button -->
        <div class="col-12">
            <button type="button" id="add-material-button" class="btn btn-secondary w-100">âž• Add Ingridients</button>
        </div>

        <div id="materials-section" class="col-12 mt-4">
            <h3 id="materials-heading" class="text-center" style="display: none;">INGRIDIENTS</h3>
            <div id="material-fields-container"></div>
        </div>
        
        <!-- Submit Button -->
        <div class="col-12 mt-3">
            <button type="submit" class="btn btn-primary w-100">Add Product</button>
        </div>
    </form>
</section>

<div id="materials-data" style="display: none;">{{ materials|json_script:"materials-data" }}</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/EditProduct.js' %}"></script>
{% endblock %}
